<!DOCTYPE html>
<html prefix="        og: http://ogp.me/ns# article: http://ogp.me/ns/article#     " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>CSRF in Django Explained | My space on web</title>
<link href="https://fonts.googleapis.com/css?family=Bitter:400,400i,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css" integrity="sha256-gsmEoJAws/Kd3CjuOQzLie5Q3yshhvmo7YNtBG7aaEY=" crossorigin="anonymous">
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://example.com/posts/csrf-in-django-explained/">
<!--[if lt IE 9]><script src="../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><meta name="author" content="Abhimanyu Gupta">
<link rel="prev" href="../blockchain-making-things-cheaper/" title="Blockchain: Making things cheaper" type="text/html">
<meta property="og:site_name" content="My space on web">
<meta property="og:title" content="CSRF in Django Explained">
<meta property="og:url" content="https://example.com/posts/csrf-in-django-explained/">
<meta property="og:description" content="Going back to the time when I was new to technology, learning to code and had decided to learn Django.
Django is a web framework written in Python and is used for developing web services. There are so">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2019-11-05T18:31:37+05:30">
</head>
<body>
    <a href="#page-content" class="sr-only sr-only-focusable">Skip to main content</a>
    
    <section class="social"><ul>
<li><a href="../../index.html" title="Posts"><i class="fa fa-home"></i></a></li>
            <li><a href="../../archive.html" title="Archives"><i class="fa fa-folder-open"></i></a></li>
            <li><a href="../../categories/index.html" title="Tags"><i class="fa fa-tags"></i></a></li>
            <li><a href="../../rss.xml" title="RSS"><i class="fa fa-rss"></i></a></li>
            <li><a href="https://about.me/theparadoxer02" title="About me"><i class="fa fa-user"></i></a></li>
            <li><a href="https://twitter.com/theparadoxer02" title="My Twitter"><i class="fa fa-twitter"></i></a></li>
            <li><a href="https://github.com/theparadoxer02" title="My Github"><i class="fa fa-github"></i></a></li>
    
    

        </ul></section><section class="page-content"><div class="content" rel="main">
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">CSRF in Django Explained</a></h1>

        <div class="metadata">
            <p class="dateline"><a href="." rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2019-11-05T18:31:37+05:30" itemprop="datePublished" title="2019-11-05 18:31">2019-11-05 18:31</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                    Abhimanyu Gupta
            </span></p>
            
        <p class="sourceline"><a href="index.rst" class="sourcelink"><i class="fa fa-file-code"></i> Source</a></p>

            

            

        </div>
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>Going back to the time when I was new to technology, learning to code and had decided to learn Django.</p>
<p>Django is a web framework written in Python and is used for developing web services. There are some well written modules of Django that make it suitable for faster development with better efficiency.
The mistake I was doing is to learn from multiple resources at the same time. It consisted of Youtube tutorials, official documentation, Django-Girls website, Udemy, etc. I was messed up with the settings, project and app configurations, and many of the times are with Django forms. The errors that I find silly now, were really frustrating and used to be not less than a nightmare for me.</p>
<p>What is CSRF?
CSRF stands for Cross-Site Request Forgery. It is an attack that forces an end user to execute unwanted actions on a web application in which they’re currently authenticated.</p>
<p>For example, lets up say this is an URL that is generated when one is trying to complete the payment/transfer process.</p>
<blockquote>
<a class="reference external" href="http://www.bank.com/transfer.php?&amp;money=500&amp;transferto=someaccount">http://www.bank.com/transfer.php?&amp;money=500&amp;transferto=someaccount</a>
</blockquote>
<p>the payment or transfer only happens only when the session is already running over the browser. So let’s suppose that you have once logged in to a bank website before. Now cookies and stuff are already stored in your browser then the person can be exploited by sending the transfer URL in a hidden form to the victim, for example, the link is :</p>
<blockquote>
&lt;img src =”<a class="reference external" href="http://www.bank.com/transfer.php?&amp;money=500&amp;transferto=attackeraccount">http://www.bank.com/transfer.php?&amp;money=500&amp;transferto=attackeraccount</a>” &gt;</blockquote>
<p>The above link is a broken image link, but the moment victim’s browser will try to render the image it will make a request to the image URL, since we have given the malicious link the request will be made and since you are already logged in to bank, the browser’s session and cookie will help it to execute the process and the money might be transferred to the attacker account without getting notified to the victim.</p>
<p>Hence, in order to prevent it, modern web services use a same-origin policy. Django has this built-in feature of providing a token (called as CSRF token) every time a form is submitted that checks if the request is procedure from the same origin.
To make a form submission in Django:-</p>
<blockquote>
<p>&lt;form method =”POST” &gt;</p>
<blockquote>
<p>{% csrf_token %}</p>
<p>…form body….</p>
</blockquote>
<p>&lt;/form&gt;</p>
</blockquote>
<p>If you do not add {% csrf_token %} you will get Error 403.
CSRF attack is so <em>dangerous</em> that it is listed under the OWASP Top 10 vulnerabilities. It is the kind of vulnerability in which victim’s own browser support in getting exploited. So from a developer perspective, one should never ignore these kinds of vulnerabilities during developing.</p>
<p>References:</p>
<blockquote>
<ul class="simple">
<li><a class="reference external" href="http://resources.infosecinstitute.com/owasp-csrf/">http://resources.infosecinstitute.com/owasp-csrf/</a></li>
<li>
<a class="reference external" href="https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF">https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF</a>)</li>
</ul>
<p><em>Please comment for any kind of confusion/suggestions etc. Also Follow me as I write mostly about Python, Blockchain and Web development using Django.</em></p>
</blockquote>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../blockchain-making-things-cheaper/" rel="prev" title="Blockchain: Making things cheaper">Previous post</a>
            </li>
        </ul></nav></aside></article><footer id="footer"><p>Contents © 2019         <a href="mailto:abhimanyu98986@gmail.com">Abhimanyu Gupta</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
